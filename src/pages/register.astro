---
// src/pages/register.astro
import Layout from "@/layouts/Layout.astro";
import RegisterView from "@/components/views/RegisterView";
import { isFeatureEnabled } from "@/features/flags";

// Check if auth feature is enabled
if (!isFeatureEnabled("auth")) {
  return Astro.redirect("/");
}

// If user is already logged in, redirect to measurements
if (Astro.locals.user) {
  return Astro.redirect("/measurements");
}
---

<Layout title="Rejestracja">
  <RegisterView client:load />
</Layout>
